@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary-blue: #2563eb;
  --scrollbar-width: 12px;
  --scrollbar-thumb: rgba(2,6,23,0.08);
  --scrollbar-track: transparent;
  --table-footer-height: 56px;
}


@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* RESET */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* GLOBAL FONT & COLORS */
body {
  font-family: Arial, sans-serif;
  background: #f4f4f5;
  color: #222;
}

/* BUTTON DEFAULT STYLE */
button {
  background: #335CFE;
  color: white;
  padding: 10px 20px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
}
button:hover {
  opacity: 0.9;
}

/* INPUT FIELDS */
input, select {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 4px;
  background: #f7f7f7;
  border: 1px solid #ddd;
}

/* SIDEBAR */
.sidebar-link {
  display: flex;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  color: #444;
  text-decoration: none;
}
.sidebar-link:hover {
  background: #e5e7eb;
}

/* ===== ADDED STYLES (from user) ===== */
/* RESET */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f4f4f5;
  color: #111827;
}

/* Links */
a {
  color: inherit;
  text-decoration: none;
}

/* Sidebar link */
.sidebar-link {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  color: #4b5563;
}

.sidebar-link:hover {
  background-color: #e5e7eb;
}

/* Inputs */
.input {
  width: 100%;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid #d1d5db;
  background: #f9fafb;
  margin-top: 4px;
}

/* Buttons */
.btn-primary {
  background: #2563eb;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.btn-primary:hover {
  background: #1d4ed8;
}

.btn-ghost {
  background: #e5e7eb;
  color: #374151;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
}

.btn-outline {
  background: #ffffff;
  color: #2563eb;
  border: 1px solid rgba(37,99,235,0.6);
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

/* Simple table */
.table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  border-radius: 0;
  overflow: hidden;
}

/* Right-side overlay drawer (used for Add Customer) */
.overlay-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  display: flex;
  justify-content: flex-end;
  z-index: 5000;
}
.overlay-drawer {
  width: 560px;
  max-width: 100%;
  height: 100%;
  background: #ffffff;
  box-shadow: -4px 0 16px rgba(15,23,42,0.15);
}

.overlay-form {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.overlay-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
}
.overlay-title {
  font-weight: 700;
  font-size: 12px;
  letter-spacing: 0.06em;
  color: #111827;
}
.overlay-actions {
  display: inline-flex;
  align-items: center;
  gap: 18px;
}
.overlay-clear {
  background: transparent;
  border: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  color: #6b7280;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.04em;
  padding: 8px 6px;
}
.overlay-close {
  background: transparent;
  border: none;
  cursor: pointer;
  color: #2563eb;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.06em;
  padding: 8px 6px;
}

.overlay-body {
  padding: 0 20px 16px 20px;
  overflow-y: auto;
  flex: 1 1 auto;
}

.overlay-section {
  margin-top: 6px;
  margin-bottom: 18px;
}
.overlay-section-title {
  font-size: 20px;
  font-weight: 700;
  color: #111827;
  margin: 18px 0 10px 0;
}

.overlay-field {
  margin-bottom: 14px;
}
.overlay-field label {
  display: block;
  font-size: 12px;
  color: #6b7280;
  margin-bottom: 6px;
}

/* In the overlay, keep fields tight like the phone control (avoid the global input margin-top). */
.overlay-input {
  margin-top: 0;
}

.overlay-input {
  width: 100%;
  height: 44px;
  padding: 0 12px;
  border-radius: 4px;
  border: 1px solid transparent;
  background: #f3f4f6;
  color: #111827;
  outline: none;
  box-sizing: border-box;
}
.overlay-input::placeholder { color: #9ca3af; }

.phone-input {
  display: flex;
  align-items: center;
  height: 44px;
  border-radius: 4px;
  background: #f3f4f6;
  border: 1px solid transparent;
  /* allow the country dropdown to escape the field */
  overflow: visible;
}
.phone-prefix {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  height: 100%;
  padding: 0 14px 0 10px;
  background: transparent;
  border: none;
  cursor: pointer;
  color: #111827;
}
.phone-prefix .phone-code { font-weight: 600; }
.phone-prefix .custom-select-caret { color: #6b7280; }
.phone-prefix .custom-select-caret {
  margin-left: -2px; /* reduce space left of the arrow */
  margin-right: 2px; /* a bit more space to the right */
}

.flag-img {
  width: 20px;
  height: 14px;
  object-fit: cover;
  border-radius: 2px;
  display: inline-block;
}

.phone-input { position: relative; }
.phone-menu {
  position: absolute;
  left: 0;
  top: calc(100% + 8px);
  min-width: 320px;
  max-height: 320px;
  overflow: auto;
  background: #ffffff;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  padding: 8px 4px;
  z-index: 4000;
}
.phone-menu-search {
  padding: 6px 8px 10px 8px;
}
.phone-menu-search .phone-menu-search-box {
  width: 100%;
}
.phone-menu-input {
  margin-top: 0;
}
.phone-number {
  flex: 1 1 auto;
  height: 44px;
  border: none;
  background: transparent;
  padding: 0 12px 0 6px;
  margin: 0;
  outline: none;
  color: #111827;
  box-sizing: border-box;
  line-height: normal;
  display: block;
}
.phone-number::placeholder { color: #9ca3af; }

.overlay-footer {
  display: flex;
  gap: 14px;
  padding: 16px 20px;
}
.overlay-footer .btn-outline,
.overlay-footer .btn-primary {
  flex: 1 1 0;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}
.overlay-footer .btn-primary.overlay-primary {
  border-radius: 4px;
}

.table th,
.table td {
  padding: 12px 12px;
  font-size: 14px;
}

.table thead tr {
  background: #ffffff;
  border-bottom: 1px solid #e5e7eb;
}

/* Remove the internal header row border for the Orders card/header
   so only the wrapper's full-width border is visible. This overrides
   the global header border inside the card context. */
.card.card-no-hpad .table thead tr,
.table-header .table thead tr {
  border-bottom: none;
}

.table tbody tr {
  border-bottom: none;
}

/* Dashboard layout */
.dashboard-main {
  display: flex;
  flex: 1 1 auto;
  min-height: 0;
}

.page-header h2 {
  font-size: 20px;
  font-weight: 700;
  color: #0f172a;
}
.page-header p {
  color: #6b7280;
  margin-bottom: 8px
}

.filters-row {
  display: flex;
  flex-wrap: wrap; /* allow wrapping on smaller widths */
  gap: 8px 8px; /* gap-x-2 gap-y-2 equivalent */
  align-items: flex-end;
  margin-bottom: 12px;
  width: 100%;
}
.filters-row .filter-wrapper {
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
}

/* Status dropdown styling */
.status-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  padding: 12px;
  z-index: 1000;
  box-sizing: border-box;
  min-width: 280px;
  max-width: 520px;
  width: auto; /* responsive width */
}
/* pointer arrow aligned to dropdown left edge */
.status-dropdown::after {
  content: "";
  position: absolute;
  top: -9px;
  left: 12px; /* adjust to align with filter button */
  width: 0;
  height: 0;
  border-left: 9px solid transparent;
  border-right: 9px solid transparent;
  border-bottom: 9px solid #e5e7eb; /* border/shadow color */
  z-index: 999;
}
.status-dropdown::before {
  content: "";
  position: absolute;
  top: -8px;
  left: 12px; /* same left to line up */
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid #ffffff; /* dropdown background */
  z-index: 1001;
}
.status-list { display:flex; flex-direction:column; gap:8px; }
.status-item { display:flex; align-items:center; gap:8px; }
.status-item .status-checkbox { margin:0; }

/* Prevent the label's extra whitespace from being clickable: only the checkbox and the status button accept pointer events */
.status-item { pointer-events: none; }
.status-item .status-checkbox, .status-item .status-btn { pointer-events: auto; }

/* Search box inside dropdown */
.status-search { display:flex; align-items:center; gap:8px; }
.status-search-box { display:flex; align-items:center; gap:8px; padding:0 8px; height:40px; border-radius:4px; background:#fff; border:1px solid #e5e7eb; flex:1 }
.status-search-box svg { position:static; left:auto; top:auto; transform:none; pointer-events:none; display:inline-flex; width:20px; height:20px; align-items:center; justify-content:center }
.status-search-input { border: none; outline: none; font-size:14px; color:#111827; width:100%; background:transparent; height:100%; text-align:left; padding:0; display:flex; align-items:center }

/* Shared search box used in header and dropdown */
.search-box {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 8px;
  height: 40px;
  border-radius: 4px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
}
.search-box .search-icon {
  font-size: 20px;
  color: #9ca3af;
  display: inline-flex;
  width: 20px;
  height: 20px;
  align-items: center;
  justify-content: center;
}
.search-box .search-input {
  margin-top: 0;
  flex: 1;
  border: none;
  outline: none;
  background: transparent;
  color: #111827;
  font-size: 14px;
  height: 100%;
  display: flex;
  align-items: center;
}
.status-search-clear {
  position: relative;
  cursor: pointer;
  background: transparent;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  border-radius: 4px;
  transition: background .12s ease, color .12s ease;
}
.status-search-clear svg { color: #6b7280; }
.status-search-clear.active svg { color: var(--primary-blue); }
.status-search-clear:hover { background: rgba(37,99,235,0.06); }
.status-search-clear:hover svg { color: var(--primary-blue); }

/* When inactive (no selection) make the clear control non-interactive and not hoverable */
.status-search-clear:not(.active), .status-search-clear:disabled {
  cursor: default;
  pointer-events: none;
  background: transparent;
}
.status-search-clear:not(.active) svg, .status-search-clear:disabled svg {
  color: #6b7280;
}

/* Tooltip above the clear icon */
.status-clear-tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%) translateY(4px);
  background: rgba(17,24,39,0.95);
  color: #fff;
  padding: 6px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity .12s ease, transform .12s ease;
  z-index: 1200;
}
.status-clear-tooltip::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-width: 6px;
  border-style: solid;
  border-color: rgba(17,24,39,0.95) transparent transparent transparent;
}
.status-search-clear.active:hover .status-clear-tooltip,
.status-search-clear.active:focus .status-clear-tooltip,
.status-search-clear.active:focus-visible .status-clear-tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
}

/* Custom checkbox to match Google-like look and use primary blue when checked */
.status-checkbox {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  background: transparent;
  display: inline-block;
  vertical-align: middle;
  cursor: pointer;
}
.status-checkbox:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(37,99,235,0.12);
}
.status-checkbox:checked {
  background: var(--primary-blue);
  border-color: var(--primary-blue);
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='none' stroke='%23fff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round' d='M20 6L9 17l-5-5'/></svg>");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 12px 12px;
}
/* fallback for older browsers: keep accent-color if available */
.status-checkbox:not(:checked) { accent-color: var(--primary-blue); }

.status-btn { display:inline-flex; align-items:center; padding:6px 8px; border-radius:4px; font-size:14px; gap:8px; }
.status-btn-moving { background: #e6f3ff; color: #075985; }
.status-btn-pending { background: #fff6e6; color: #92400e; }
.status-btn-completed { background: #ecfdf5; color: #065f46; }
.status-btn-canceled { background: #fff1f2; color: #9f1239; }
.status-btn:hover { filter:brightness(0.98); }
.status-item-icon { display:inline-flex; vertical-align:middle; }

/* status dropdown chevron rotation */
.status-chevron {
  transition: transform .16s ease;
  display: inline-flex;
  vertical-align: middle;
  transform-origin: center;
}
.status-chevron.open {
  transform: rotate(180deg);
}

/* When checkbox is checked, add a slight ring to the button */
.status-item .status-checkbox:checked + .status-btn { box-shadow: 0 0 0 2px rgba(59,130,246,0.08); }
.filters-row .filter-label {
  font-size: 12px;
  color: #6b7280;
  font-weight: 500;
  padding-left: 2px;
}
.filters-row .filter {
  background: white;
  border: 1px solid #e5e7eb;
  padding: 10px 14px;
  border-radius: 4px;
  color: #111827;
  font-weight: 400;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  min-width: 120px; /* min-w-[120px] */
  max-width: 220px; /* max-w-[220px] */
  font-size: 14px;
  height: 40px;
}
.filters-row .filter-input {
  width: 160px;
  max-width: 160px;
  height: 40px;
  margin-top: 0;
  padding: 0 14px;
  border-radius: 4px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  color: #111827;
  font-size: 14px;
  outline: none;
}
.filters-row .filter-input::placeholder {
  color: #9ca3af;
}
.filters-row .filter span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.filters-row .filter svg { flex-shrink: 0; }
.filters-row .search {
  width: 320px;
}

/* Date range dropdown (Orders > Choose Date) */
.date-range-popover {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  z-index: 1000;
  overflow: visible;
  max-width: calc(100vw - 32px);
}
.date-range-popover::after {
  content: "";
  position: absolute;
  top: -9px;
  left: 12px;
  width: 0;
  height: 0;
  border-left: 9px solid transparent;
  border-right: 9px solid transparent;
  border-bottom: 9px solid #e5e7eb;
  z-index: 999;
}
.date-range-popover::before {
  content: "";
  position: absolute;
  top: -8px;
  left: 12px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid #ffffff;
  z-index: 1001;
}

.date-range-body {
  display: flex;
}

.drp-presets {
  width: 170px;
  padding: 12px;
  border-right: 1px solid #e5e7eb;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: #ffffff;
}
.drp-preset {
  background: transparent;
  border: none;
  color: #111827;
  padding: 8px 10px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  cursor: pointer;
}
.drp-preset:hover { background: #f3f4f6; }

.drp-main {
  padding: 12px;
}

.drp-inputs {
  display: grid;
  grid-template-columns: 260px 260px;
  gap: 18px;
  justify-content: start;
  margin-bottom: 12px;
  padding-left: 16px;
  padding-right: 16px;
}
.drp-input { min-width: 0; }
.drp-input-label {
  font-size: 12px;
  color: #6b7280;
  font-weight: 500;
  margin-bottom: 6px;
}
.drp-input input {
  margin-top: 0;
  height: 40px;
  border-radius: 4px;
  border: 1px solid #e5e7eb;
  background: #ffffff;
  padding: 0 12px;
  color: #111827;
  font-size: 14px;
  outline: none;
}
.drp-input input::placeholder { color: #9ca3af; }

.drp-cal {
  display: flex;
  align-items: center;
}
.drp-nav {
  width: 28px;
  height: 28px;
  padding: 0;
  border: none;
  background: transparent;
  color: #9ca3af;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.drp-nav:hover { color: #6b7280; }
.drp-nav:focus { outline: none; }
.drp-month[data-side="left"] .drp-nav-prev { position: absolute; left: 0; }
.drp-month[data-side="right"] .drp-nav-next { position: absolute; right: 0; }

.drp-months {
  display: flex;
  gap: 18px;
  padding-left: 16px;
  padding-right: 16px;
}
.drp-month { width: 260px; }
.drp-month-header {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 28px;
  position: relative;
}
.drp-month-title {
  font-weight: 600;
  font-size: 13px;
  color: #111827;
}

.drp-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 32px);
  justify-content: start;
  gap: 6px;
  margin-top: 8px;
}
.drp-weekday {
  font-size: 12px;
  color: #6b7280;
  text-align: center;
}

.drp-grid {
  display: grid;
  grid-template-columns: repeat(7, 32px);
  justify-content: start;
  gap: 6px;
  margin-top: 6px;
}
.drp-day {
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  border-radius: 4px;
  background: transparent;
  color: #111827;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.drp-day:hover { background: #f3f4f6; }
.drp-day.drp-empty { visibility: hidden; pointer-events: none; }

.drp-day.in-range { background: rgba(37,99,235,0.10); }
.drp-day.is-start,
.drp-day.is-end {
  background: #2563eb;
  color: #ffffff;
}

.drp-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #e5e7eb;
}
.drp-actions-right {
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.drp-btn {
  border: none;
  padding: 8px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 700;
  font-size: 12px;
  letter-spacing: 0.06em;
}
.drp-cancel { background: transparent; color: #6b7280; }
.drp-cancel:hover { background: #f3f4f6; }
.drp-apply { background: #2563eb; color: #ffffff; }
.drp-apply:disabled { opacity: 0.5; cursor: not-allowed; }

/* Card wrapper for tables */
.card {
  background: #ffffff;
  padding: 10px;
  overflow: visible;
}

/* Remove horizontal padding for specific cards (used on Orders table) */
.card.card-no-hpad {
  /* keep vertical padding, remove horizontal padding */
  padding-top: 0;
  padding-bottom: 0; /* remove extra bottom spacing under the table */
  padding-left: 0;
  padding-right: 0;
  display: flex;
  flex-direction: column;
}
.card.card-no-hpad .table th,
.card.card-no-hpad .table td {
  padding-left: 16px;
  padding-right: 0;
}

/* Make the left column fill available height and the table wrapper scroll to viewport bottom */
.dashboard-main > div {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  min-height: 0;
}
.card.header-card {
  flex: 0 0 auto;
  overflow: visible;
}
.card.card-no-hpad {
  flex: 1 1 auto;
}
.card.card-no-hpad .table-wrapper {
  /* Adjustable offset so footer sits higher above bottom of viewport. */
  --orders-table-offset: 196px; /* increase this value to move footer further up */
  max-height: calc(var(--vh, 1vh) * 100 - var(--orders-table-offset) - var(--table-footer-height));
  /* Fill remaining height and scroll internally (vertical + horizontal) */
  flex: 1 1 0;
  min-height: 0;
  overflow-y: auto;
  overflow-x: auto;
  position: relative;
  padding-bottom: 0;
}

/* Scrollbar styling for the orders table scroll area */
.card.card-no-hpad .table-wrapper {
  /* Do not reserve gutter by default so content can be flush with card
     edges when no vertical scrollbar is present. `has-scrollbar` will
     enable the stable gutter when needed. */
  scrollbar-gutter: auto;
  scrollbar-width: normal;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.card.card-no-hpad .table-wrapper::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
}
.card.card-no-hpad .table-wrapper::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
.card.card-no-hpad .table-wrapper::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 8px;
  border: 3px solid transparent; /* provide padding so thumb sits inside track */
  background-clip: padding-box;
}

/* Unified scrollbar styles for other scrollable elements (WebKit browsers) */
*::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
}
*::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
*::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 8px;
  border: 3px solid transparent;
  background-clip: padding-box;
}

/* Firefox scrollbar settings */
* {
  scrollbar-width: normal;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}
.card.card-no-hpad .table-wrapper .orders-body {
  margin: 0; /* ensure body aligns with wrapper edges */
}

/* When a scrollbar is present and we have detected it, reserve the
   stable gutter so layout doesn't shift; JS toggles `.has-scrollbar`. */
.card.card-no-hpad.has-scrollbar .table-wrapper {
  scrollbar-gutter: stable;
}

/* When the orders table has a vertical scrollbar (the body scrolls),
   add an extra 16px right padding to the header table so the headings
   visually align with the scrollable body columns. Applied in the
   card context to avoid affecting other table headers. */
.card.card-no-hpad.has-scrollbar .table-header .orders-grid {
  /* Keep the padding inside the header grid's box so the
    card border line remains visible. Using border-box ensures the
    padding doesn't push outside the header container. */
  /* Reduce the header grid total width by the scrollbar width so
    the header columns line up with the body when the body shows a
    vertical scrollbar. JS toggles `.has-scrollbar` on the card. */
  width: calc(100% - var(--scrollbar-width));
  box-sizing: border-box;
}

/* Remove padding from the header wrapper itself so the card border
   and bottom border remain flush with the card edges. The inner
   table now reserves the space internally. */
.card.card-no-hpad.has-scrollbar .table-header {
  padding-right: 0;
  box-sizing: border-box;
}

/* When there is no scrollbar, ensure both header and body tables
   occupy the full width so columns are flush with the card content
   area (no extra right gap). */
.card.card-no-hpad:not(.has-scrollbar) .table-header .orders-grid {
  width: 100%;
  box-sizing: border-box;
  padding-right: 0;
}
.card.card-no-hpad:not(.has-scrollbar) .table-wrapper .orders-body {
  width: 100%;
  box-sizing: border-box;
}

/* Ensure the last cell in rows has no right padding to remove visible gap */
.card.card-no-hpad .table th:last-child,
.card.card-no-hpad .table td:last-child {
  padding-right: 0 !important;
}

.table thead tr {
  background: #ffffff;
}
.card.card-no-hpad .table thead th {
  position: sticky;
  top: 0;
  background: #ffffff;
  z-index: 5;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}

/* When header is rendered as its own table, ensure it visually matches and stays above the scroll */
.table-header { background: #ffffff; /* ensure a full-width bottom border so the header line remains visible when the inner table is inset */
  border-bottom: 1px solid #e5e7eb;
}
.table-header .table { width: 100%; border-collapse: collapse; }
.table-header .table th { padding: 12px 12px; font-weight: 600; font-size: 13px; text-align: left; border-bottom: none; background: #ffffff; }

/* Orders grid-based layout (replaces legacy table markup) */
.table-header { background: #ffffff; border-bottom: 1px solid #e5e7eb; position: sticky; top: 0; z-index: 6; }
.orders-grid { display: grid; width: 100%; align-items: center; }
.orders-grid { display: grid; width: 100%; align-items: center; column-gap: 12px; }
.orders-header-grid .orders-header { padding: 12px 8px; font-weight: 600; font-size: 13px; color: #0f172a; }
.orders-body { display: block; }
.orders-row { display: grid; align-items: center; gap: 12px; padding: 12px 12px; border-bottom: none; }
.orders-row:hover { background: #eef2f7; }
.orders-row.selected { background: #eef2f7; }

/* Zebra striping for orders list: even rows get a subtle background */
.orders-body .orders-row:nth-child(even) {
  background: #f3f4f6;
}

/* Ensure selected state overrides zebra */
.orders-body .orders-row.selected {
  background: #eef2f7;
}

/* Make hover take precedence for all rows (including zebra ones) */
.orders-body .orders-row:hover {
  background: #eef2f7;
}
.orders-cell { padding: 0 8px; font-size: 14px; display: flex; flex-direction: column; justify-content: center; }
.table th {
  font-weight: 600;
  font-size: 13px;
}
.table tbody tr:nth-child(even) {
  background: #f3f4f6;
}
.table tbody tr:hover {
  background: #eef2f7;
}

/* Status pills */
.status-pill {
  /* Canonical status pill design: fixed horizontal padding so the
     background box doesn't collapse/resize when the page width changes.
     Keep this pattern as the standard for future status-pill variants. */
  padding: 6px 8px; /* 6px vertical, 8px horizontal */
  border-radius: 4px;
  font-weight: 600;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap; /* prevent wrapping that could change width */
  box-sizing: border-box;
  /* Prevent flex containers (like .orders-cell) from stretching the pill to 100% width */
  flex: 0 0 auto; /* avoid flex children stretching the pill */
  align-self: center; /* do not stretch inside vertical/column flex parents */
  width: auto !important;
  max-width: none !important;
}
.route-pill {
  /* Match status pill exact vertical rhythm and height */
  padding: 6px 8px;
  border-radius: 4px;
  font-weight: 600;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  box-sizing: border-box;
  flex: 0 0 auto;
  align-self: center;
  /* Use inner border line instead of outer border */
  border: none;
  box-shadow: inset 0 0 0 1px #e5e7eb;
  color: #111827;
  line-height: 1; /* match status text line-height */
}
.route-pill .route-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px; /* match .status-icon size */
  color: #6b7280; /* muted icon color for contrast */
}
.route-pill .route-text {
  font-size: 13px;
  font-weight: 600;
  color: #111827;
  line-height: 1;
}
.status-moving { background: #e6f3ff; color: #075985; }
.status-moving .status-icon { color: #075985; }
.status-pending { background: #fff6e6; color: #92400e; }
.status-pending .status-icon { color: #92400e; }
.status-completed { background: #ecfdf5; color: #065f46; }
.status-completed .status-icon { color: #065f46; }
.status-canceled { background: #fff1f2; color: #9f1239; }
.status-canceled .status-icon { color: #9f1239; }

/* Trucks status pills (Active/Inactive) - same pill shape, separate variants */
.truck-status-active { background: #ecfdf5; color: #065f46; }
.truck-status-active .status-icon { color: #065f46; }
.truck-status-inactive { background: #f3f4f6; color: #374151; }
.truck-status-inactive .status-icon { color: #374151; }

.status-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}
.status-text { line-height: 1; }

/* Assign links in Trucks table */
.assign-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--primary-blue);
  font-size: 14px;
  font-weight: 500;
}
.assign-link:hover { text-decoration: underline; }
.assign-select {
  width: 100%;
  height: 36px;
  border-radius: 4px;
  border: 1px solid #e5e7eb;
  background: #ffffff;
  padding: 0 10px;
  margin: 0;
}

/* Detail panel */
.detail-panel {
  width: 100%;
  min-width: 320px;
  max-width: 380px;
  background: #ffffff;
  padding: 16px 16px 24px 16px;
  box-sizing: border-box;
  border-left: 1px solid #e5e7eb;
  /* keep tight padding to avoid visual whitespace at edges */
  padding: 16px 16px 16px 16px;
  position: sticky;
  top: 0;
  max-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden; /* prevent horizontal scroll; keep fixed width */
  border-left: 1px solid #e5e7eb; /* restored separator to match other borders */
  /* Reserve a small gutter so content doesn't sit under the vertical scrollbar */
  scrollbar-gutter: stable;
  padding-right: calc(16px + var(--scrollbar-width));
  padding-left: calc(16px + var(--scrollbar-width)); /* keep left/right spacing visually equal */
  overflow-x: hidden; /* prevent horizontal scrollbar inside panel */
  box-sizing: border-box;
  scrollbar-gutter: stable; /* reserve space for scrollbar to avoid layout shift */
  z-index: 20; /* ensure panel overlays rows and UI during resize */
}

/* Native table styling for OrdersTable */
.orders-table { font-size: 13px; }
.orders-table th { font-size: 13px; }
.orders-table td { font-size: 13px; }
.orders-table th,
.orders-table td { vertical-align: middle; }
.orders-table tbody tr:not(.orders-date-group):nth-child(even) { background: #f3f4f6; }
.orders-table tbody tr:not(.orders-date-group):hover { background: #eef2f7; }
.orders-table tbody tr.selected { background: #eef2f7; }

/* Date grouping row inside Orders table */
.orders-table tbody tr.orders-date-group { background: transparent !important; }
.orders-table tbody tr.orders-date-group:hover { background: transparent !important; }
.orders-table tbody tr.orders-date-group td {
  padding: 0 !important;
  height: 0;
  line-height: 0;
  border: 0;
}
.orders-date-divider {
  position: relative;
  height: 0;
  line-height: 0;
  padding: 0;
  overflow: visible;
}
.orders-date-pill {
  display: inline-flex;
  align-items: center;
  height: 18px;
  padding: 0 6px;
  border-radius: 0 0 3px 3px;
  background: #2563eb;
  color: #ffffff;
  font-weight: 700;
  font-size: 11px;
  letter-spacing: 0.02em;
  position: absolute;
  left: 0;
  top: 2px;
  z-index: 1;
}
.orders-date-line {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 2px;
  background: #2563eb;
  opacity: 0.75;
}

.detail-panel::after {
  content: "";
  display: block;
  height: 8px; /* small spacer only; avoid large extra height */
  pointer-events: none;
}
.detail-panel .header {
  display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:12px;
}
.detail-panel h3 { margin:0; }
.detail-panel p { margin:0; color:#6b7280; font-size:13px; }
.detail-panel h4 { font-weight: 700; }

.stop-card {
  position: relative;
  background: #ffffff;
  border: 1px solid #eef2f6;
  border-radius: 4px;
  /* left padding = flag width (30px) + desired content padding (16px) = 46px */
  padding: 16px 16px 16px 46px;
  margin-bottom: 12px; /* harmonize with arrow spacing for even rhythm */
  overflow: visible; /* avoid clipping content inside the card */
}


.stop-card .badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
  border-radius: 4px;
  font-weight: 700;
  font-size: 12px;
  margin-bottom: 4px; /* tighter spacing */
}
.stop-flag {
  position: absolute;
  left: 0;
  top: 0;
  width: 30px; /* exact width */
  height: 100%; /* full card height */
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
  display: flex;
  flex-direction: column; /* number → text → icon */
  align-items: center; /* center horizontally */
  justify-content: flex-start; /* start at top */
  /* keep text horizontal; no vertical writing-mode */
  color: #111827; /* dark text */
  font-weight: 700;
  font-size: 12px;
  overflow: visible; /* avoid clipping */
  padding-top: 16px; /* requested inset spacing */
  padding-bottom: 16px; /* requested inset spacing */
}
.stop-flag .flag-number {
  /* horizontal number at top */
  font-size: 13px;
  color: #111827;
  font-weight: 700;
  margin-bottom: 4px;
  display: block;
  order: 0;
}
.stop-flag .flag-text {
  /* horizontal middle text */
  writing-mode: horizontal-tb;
  font-weight: 700;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1 1 auto; /* fill middle area */
  margin: 0;
  order: 1;
  transform: rotate(-90deg);
  transform-origin: center;
}
.stop-flag .flag-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: auto; /* pin to bottom */
  margin-bottom: 4px;
  order: 2;
}

/* Completed text color darker green for readability */
.stop-flag.completed .flag-text { color: #065f46; }
.stop-flag.moving .flag-text { color: #075985; }
.stop-flag.pending .flag-text { color: #92400e; }
.stop-card .stop-content { margin-left: 0; }
.stop-card .stop-title { font-weight: 700; color: #111827; margin-bottom: 4px; font-size:14px }
.stop-card .stop-sub { color:#6b7280; font-size:12px; margin-bottom: 6px }
.stop-card .stop-row { display:flex; gap:12px; align-items:flex-start; margin-top:12px; border-top: 1px solid #f3f4f6; padding-top: 12px }
.stop-card .stop-row .meta { color:#6b7280; font-size:13px }

.stop-flag.completed { background: #ecfdf5; }
.stop-flag.moving { background: #e6f3ff; }
.stop-flag.pending { background: #fff6e6; }
.stop-flag.canceled { background: #fff1f2; }
.stop-flag.canceled .flag-text { color: #9f1239; }

/* Meta labels inside stop rows to match reference layout */
.stop-card .meta { display:flex; flex-direction:column; gap:8px; }
.stop-card .meta .meta-label { color:#6b7280; font-size:12px }
.stop-card .meta .meta-value { font-weight:700; color:#111827; font-size:14px }

/* Small select used to change stop status (compact, rounded) */
.stop-status-select {
  border: 1px solid #e5e7eb;
  background: #ffffff;
  padding: 6px 8px;
  border-radius: 4px;
  font-weight: 600;
  color: #111827;
}

.assign-btn {
  width: 100%;
  border: 1px solid #3b82f6;
  color: #2563eb;
  background: transparent;
  padding: 10px 12px;
  border-radius: 4px;
  font-weight: 700;
  cursor: pointer;
}

.plate-actions { display: flex; gap: 8px; }

/* Minimal, reusable icon button used for plate actions */
.small-ghost {
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  padding: 0;
  border-radius: 4px;
  background: transparent;
  cursor: pointer;
}

.small-ghost svg { width: 20px; height: 20px; display: block; }

/* Variants: color by intent (inherit color into svg via `color`) */
.small-ghost.change-truck { background: #e6f3ff; color: #075985; }
.small-ghost.unassign-truck { background: #fff1f2; color: #9f1239; }

.small-ghost:hover { opacity: 0.96; }

.detail-list strong { display:inline-block; width: 80px; }

/* Simple tooltip for icon buttons using data-tooltip attribute */
.small-ghost[data-tooltip] {
  position: relative;
  z-index: 999999; /* ensure tooltip container sits above scrollbars and other UI chrome */
}
.small-ghost[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  top: -36px;
  left: 50%;
  transform: translateX(-50%) translateY(6px);
  background: rgba(17,24,39,0.95);
  color: #fff;
  padding: 6px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  transition: opacity .12s ease, transform .12s ease;
  z-index: 999999; /* make tooltip overlay high enough to escape native scrollbars */
}
.small-ghost[data-tooltip]:hover::after {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}
.small-ghost[data-tooltip]::before {
  content: "";
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid rgba(17,24,39,0.95);
  opacity: 0;
  transition: opacity .12s ease;
  z-index: 999999;
}
.small-ghost[data-tooltip]:hover::before { opacity: 1; }



/* Prevent horizontal scroll on small screens or overflowed elements */
html, body, #__next {
  /* No page-level overflow locks here; managed in layout containers */
}

/* Use runtime --vh to avoid mobile browser 100vh issues */
.app-root {
  height: calc(var(--vh, 1vh) * 100);
}

/* Detail panel divider used under the order number */
.detail-divider {
  height: 1px;
  width: 100%; /* stay within panel width to avoid overflow */
  margin: 12px 0;
  display: block;
  background: #e5e7eb;
}

/* Footer under orders table (pagination / actions) */
.table-footer {
  background: #ffffff;
  border-top: 1px solid #e5e7eb;
  height: 56px;
  display: flex;
  align-items: center;
  padding: 0px 16px;
  gap: 12px;
  box-sizing: border-box;
  /* Footer stays in normal flow (non-sticky) */
  position: relative;
  /* Must be above the sticky table header so the footer dropup doesn't render underneath it */
  z-index: 50;
}
.table-footer .rows-select { display:flex; align-items:center; gap:8px }
.table-footer .page-info { font-size: 13px; color: #6b7280 }
.pager-buttons .btn-ghost { height: 36px; padding: 6px 12px; border-radius: 6px; background: transparent; border: 1px solid #e5e7eb; color: #374151 }
.pager-buttons .btn-ghost { height: 36px; padding: 6px 12px; border-radius: 4px; background: transparent; border: 1px solid #e5e7eb; color: #374151 }
.pager-buttons .btn-ghost:disabled { opacity: 0.5; cursor: default }

/* Custom select (dropup) used in the footer */
.rows-select { position: relative; display: flex; align-items: center; }
.custom-select { position: relative; }
.custom-select-trigger {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 36px;
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid #e5e7eb;
  background: #fff;
  cursor: pointer;
  font-size: 14px;
  color: #111827;
}
.custom-select-trigger:focus { outline: none; box-shadow: 0 6px 18px rgba(37,99,235,0.08); }
.custom-select-caret {
  font-size: 12px;
  /* make rotation instant */
  transition: none;
  display: inline-flex;
  vertical-align: middle;
  transform-origin: center;
  transform: rotate(0deg);
  /* muted grey to match other chevrons */
  color: #6b7280;
}
.custom-select-caret svg { display: inline-block; width: 14px; height: 14px; }
.custom-select.open .custom-select-caret { transform: rotate(180deg); }
.custom-select-menu {
  position: absolute;
  bottom: calc(100% + 9px); /* dropup: show above the trigger (room for pointer) */
  left: 0;
  min-width: 160px;
  background: #ffffff;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  padding: 8px 4px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  z-index: 2000;
}
.custom-select-menu::after {
  content: "";
  position: absolute;
  bottom: -9px;
  left: 16px;
  width: 0;
  height: 0;
  border-left: 9px solid transparent;
  border-right: 9px solid transparent;
  border-top: 9px solid #e5e7eb; /* border/shadow color */
  z-index: 999;
}
.custom-select-menu::before {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 16px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #ffffff; /* dropdown background */
  z-index: 1001;
}
.custom-select-item {
  padding: 10px 12px;
  border-radius: 4px;
  cursor: pointer;
  color: #111827;
  font-size: 14px;
}
.custom-select-item:hover { background: #f3f4f6; }
.custom-select-item.active {
  background: #eef2ff; /* soft blue highlight */
  color: #0f172a;
  font-weight: 600;
}

/* small visual tweak so the active item looks like the provided image */
.custom-select-item.active { background: linear-gradient(180deg,#eef6ff,#e6f0ff); }


